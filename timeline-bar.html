<!DOCTYPE html>
<html>
<head>
  <!-- D3 -->
  <script src="https://d3js.org/d3.v5.min.js"></script>

  <!-- AJAX --->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Fonts --->
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">

  <!-- Bootstrap --->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <!-- Custom CSS --->
  <link rel="stylesheet" href="./styles/d3-timeline-bar.css" type="text/css">
  <!-- <link rel="stylesheet" href="./styles/timeline.css" type="text/css"> -->
  <link rel="stylesheet" href="./styles/timeline-bar.css" type="text/css">

  <!--Scripts --->
  <script src="./scripts/timeline/timeline-bar-generator.js"></script>

</head>
<body>
  <div class="bar-content">
  </div>
  <div class="bar-graph">
    <div id = "bar-svg"></div>
  </div> 
</body>
<script>

  $( document ).ready(function() {
    let artistName = "hokusai";

    // !!! Note CORS enabled for localhost
    let address = "https://met-server-nyc.herokuapp.com/timeline?artist=" + artistName;

    var data = $.ajax({
      url: address,
      type: 'GET',
      cache: false
    });

    $.when(data).then(function (dataResp) {
        let dataInput = dataResp.results;
        generateBarTimeline(dataInput);
        
      }, function (jqXHR, textStatus, errorThrown) {
          var x1 = data;
          if (x1.readyState != 4) {
              x1.abort();
          }
          alert('GET REQUESTS FAILED');
    });
  })

</script>

</html>